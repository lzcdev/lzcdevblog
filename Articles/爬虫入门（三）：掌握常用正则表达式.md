当获取到页面的内容之后，怎么样提取想要的文字呢？正则表达式就是一个很好用的工具。在很多编程语言里面都有正则表达式的概念。正则表达式比较常见的是对字符串操作，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。除了提取文字外，比较常见的还有判断是不是email，是不是手机号等功能。

<!--more-->
## re模块
Python使用`\`作为转义字符，匹配的时候很容易少写反斜杠等问题。Python中re 模块提供了正则表达式的支持，可以很好的解决这个问题。
举个例子：
不使用re
```
s = 'lzc\\dev' # Python的字符串
# 对应的正则表达式字符串变成：
# 'lzc\dev'
```
使用re模块
```
s = r'lzc\dev' # Python的字符串
# 对应的正则表达式字符串是不变的
# 'lzc\dev'
```
主要函数：
| 函数名 | 语法 | 描述 |
|:----:|:-------|:------|
|compile|re.compile(string[,flag])|用于编译正则表达式，生成一个正则表达式（ Pattern ）对象，供 match() 和 search() 这两个函数使用|
|match|re.match(pattern, string[, flags])|从字符串的起始位置匹配一个模式，如果不是起始位置匹配成功的话(也可以指定起始位置)，match()就返回none|
|search|re.search(pattern, string[, flags])|扫描整个字符串并返回第一个成功的匹配|
|split|re.split(pattern, string[, maxsplit])|按照能够匹配的子串将字符串分割后返回列表|
|findall|re.findall(pattern, string[, flags])|在字符串中找到正则表达式所匹配的所有子串，并返回一个列表，如果没有找到匹配的，则返回空列表|
|finditer|re.finditer(pattern, string[, flags])|在字符串中找到正则表达式所匹配的所有子串，并把它们作为一个迭代器返回|
|sub|re.sub(pattern, repl, string[, count])|用于替换字符串中的匹配项|
|subn|re.subn(pattern, repl, string[, count])|跟 sub 方法的行为类似，也用于替换|

## compile 函数
`pattern=re.compile(pattern[, flag])`compile函数用来生成一个pattern对象，pattern 是一个字符串形式的正则表达式，flag 是一个可选参数，表示匹配模式，比如`re.I`表示忽略大小写，还有比较常用的`re.S`表示. 并且包括换行符在内的任意字符（. 不包括换行符）。通常 pattern要跟re模块的方法结合使用。
```
import re
pattern = re.compile(r'\d+')  # 用于匹配至少一个数字
```
## re.match函数
`re.match(pattern, string[, flags])`
结合pattern使用，我们可以使用group(num) 或 groups() 匹配对象函数来获取匹配表达式。
```
#!/usr/bin/python
#coding:utf-8

import re
pattern1 = re.compile(r'\d+') # 用于匹配至少一个数字
pattern2 = re.compile(r'([a-z])', re.I)   # re.I 表示忽略大小写

m1 = pattern1.match('lzc123')
m2 = pattern2.match('lzc123') 
print m1 # None
print m2.groups() # ('l',)

m3 = pattern1.match('1lzc23') 
m4 = pattern1.match('123lzc')
print m3 # <_sre.SRE_Match object at 0x104801ac0>  (返回一个 Match 对象)
print m3.group() # 1
print m4.group() # 123
```

## re.search方法